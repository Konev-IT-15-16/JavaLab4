<h1>Лабораторная работа №4</h1>
<h2>
  <p>Конов Михаил</p>
  <p>ПР-7</p>
  <p>2 вариант</p>
</h2>

<h2>Цель работы</h2>
<p>Освоение работы с обобщенными типами (generics) в Java: создание параметризованных классов и интерфейсов, реализация методов с ограничениями типов, применение обобщённых утилитарных методов для обработки коллекций.</p>

<h2>Задание 1.1: Обобщенная коробка</h2>
<h3>Условие</h3>
<p>Создать обобщенный класс <code>Box</code>, который может хранить один объект произвольного типа. Коробка должна позволять класть и забирать объект, проверять заполненность и выбрасывать исключение при попытке положить второй объект.</p>

<h3>Пример использования</h3>
<pre><code>Box<Integer> box = new Box<>();
box.put(3);                         // Успешно
System.out.println(box.get());      // 3
System.out.println(box.isFull());   // false

box.put(5);
box.put(10);                        // Ошибка: "Коробка уже заполнена!"</code></pre>

<div align="center">
  <img src="./screenshots/Box.png" alt="Демонстрация работы с коробкой" width="600"/>
</div>

<h2>Задание 1.3: Сравнимое</h2>
<h3>Условие</h3>
<p>Создать интерфейс <code>MyComparable&lt;T&gt;</code> с методом <code>compare(T other)</code>, возвращающим целое число. Этот интерфейс должен быть реализован классами, которые поддерживают сравнение.</p>

<h3>Пример реализации</h3>
<pre><code>Student student1 = new Student(4.5);
Student student2 = new Student(3.8);
int result = student1.compare(student2);  // 1 (так как 4.5 > 3.8)</code></pre>

<h2>Задание 2.2: Поиск максимума</h2>
<h3>Условие</h3>
<p>Реализовать метод, принимающий список коробок с числами (разных числовых типов) и возвращающий максимальное значение в формате <code>double</code>.</p>

<h3>Пример использования</h3>
<pre><code>Box<Double> box1 = new Box<>();
Box<Integer> box2 = new Box<>();
Box<Float> box3 = new Box<>();

box1.put(15.7);
box2.put(42);
box3.put(3.14f);

List<Box<? extends Number>> boxes = List.of(box1, box2, box3);
double max = LabUtils.findMax(boxes);  // Результат: 42.0</code></pre>

<div align="center">
  <img src="./screenshots/FindMax.png" alt="Поиск максимума" width="600"/>
</div>

<h2>Задание 3.1: Функция (Map)</h2>
<h3>Условие</h3>
<p>Реализовать метод <code>map</code>, который применяет заданную функцию к каждому элементу списка и возвращает новый список с результатами.</p>

<h3>Примеры работы</h3>
<pre><code>// 1. Преобразование строк в их длины
Ввод: ["qwerty", "asdfg", "zx"]
Результат: [6, 5, 2]

// 2. Получение модулей чисел
Ввод: [1, -3, 7]
Результат: [1, 3, 7]

// 3. Поиск максимальных значений в массивах
Ввод: [[1,2,3], [-1,0,5]]
Результат: [3, 5]</code></pre>

<h2>Задание 3.2: Фильтр</h2>
<h3>Условие</h3>
<p>Реализовать метод <code>filter</code>, возвращающий новый список только с элементами, удовлетворяющими заданному условию.</p>

<h3>Примеры работы</h3>
<pre><code>// 1. Фильтрация строк длиннее 2 символов
Ввод: ["qwerty", "asdfg", "zx"]
Результат: ["qwerty", "asdfg"]

// 2. Оставление только отрицательных чисел
Ввод: [1, -3, 7]
Результат: [-3]

// 3. Отбор массивов без положительных элементов
Ввод: [[-1,-2], [1,-3]]
Результат: [[-1,-2]]</code></pre>

<h2>Задание 3.3: Сокращение (Reduce)</h2>
<h3>Условие</h3>
<p>Реализовать метод <code>reduce</code>, сводящий список к одному значению с помощью операции аккумуляции. Метод должен корректно работать с пустыми списками.</p>

<h3>Примеры работы</h3>
<pre><code>// 1. Конкатенация всех строк
Ввод: ["qwerty", "asdfg", "zx"]
Результат: "qwertyasdfgzx"

// 2. Сумма всех чисел
Ввод: [1, -3, 7]
Результат: 5

// 3. Подсчёт общего количества элементов во вложенных списках
Ввод: [[1,2,3], [4,5], [6,7,8,9]]
Результат: 9</code></pre>

<h2>Задание 3.4: Коллекционирование</h2>
<h3>Условие</h3>
<p>Реализовать метод <code>collect</code>, создающий и заполняющий коллекцию произвольного типа на основе исходного списка.</p>

<h3>Примеры работы</h3>
<pre><code>// 1. Разделение чисел на положительные и остальные
Ввод: [1, -3, 7, -2, 0]
Результат: {true=[1, 7], false=[-3, -2, 0]}

// 2. Группировка строк по длине
Ввод: ["qwerty", "asdfg", "zx", "qw"]
Результат: {6=["qwerty"], 5=["asdfg"], 2=["zx", "qw"]}

// 3. Удаление дубликатов через множество
Ввод: ["qwerty", "asdfg", "qwerty", "qw"]
Результат: ["qwerty", "asdfg", "qw"]</code></pre>

<h2>Интерактивный интерфейс</h2>
<p>Для демонстрации всех возможностей реализовано главное меню:</p>
<pre><code>ГЛАВНОЕ МЕНЮ
1. Задача 1.1: Интерактивная Коробка
2. Задача 2.2: Поиск максимума (N коробок)
3. Задача 3.1: Map (Функция)
4. Задача 3.2: Filter (Фильтр)
5. Задача 3.3: Reduce (Сокращение)
6. Задача 3.4: Collect (Коллекционирование)
0. Выход</code></pre>

<div align="center">
  <img src="./screenshots/MainMenu.png" alt="Главное меню" width="600"/>
</div>

<h3>Пример сеанса работы</h3>
<pre><code>Выберите пункт: 1
--- Режим работы с Коробкой (Integer) ---
1. Положить число
2. Извлечь число
3. Посмотреть состояние
0. Вернуться в главное меню
Действие: 1
Введите значение: 42
Число 42 положено в коробку.
Действие: 3
Состояние: Box {42}
Действие: 2
Извлечено значение: 42
Действие: 3
Состояние: Box {null}</code></pre>

<h2>Вывод</h2>
<p>В ходе лабораторной работы успешно освоены обобщённые типы Java. Были реализованы:</p>
<ol>
    <li>Параметризованный класс <code>Box</code> для типобезопасного хранения объектов</li>
    <li>Обобщённый интерфейс <code>MyComparable</code> для сравнения объектов</li>
    <li>Метод <code>findMax</code>, работающий с коробками любых числовых типов</li>
    <li>Четыре обобщённых утилитарных метода для функциональной обработки коллекций</li>
    <li>Интерактивный интерфейс с проверкой ввода для демонстрации возможностей</li>
</ol>

<p>Все задачи варианта 2 выполнены в полном объёме, продемонстрирована работа с обобщёнными типами, ограничениями wildcard и функциональными интерфейсами.</p>
